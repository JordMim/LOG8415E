# LOG8415E - Assignment 2

Instructions on how to launch our environment and tests are available in the [tp2.pdf](tp2.pdf) file.

## Dependencies:

You need to have Python 3 and AWS CLI installed on your machine. Please refer to [this](https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html) and [this](https://docs.python-guide.org/starting/install3/linux/) in order to install them.

## Launch

To run the main script, you first need to download the standalone script named `script.sh`. Inside the same directory, run these command:

```bash
sudo chmod +x script.sh
sudo ./script.sh
```

## Usage

The above script will clone this repository and run the interactive dialog.

```
==============================================
|                  LOG8415E                  |
|                     TP2                    |
|         2009913 - Jordan Mimeault          |
|         2018968 - Antoine Lombardo         |
|         2020511 - Jacob Dupuis             |
|         2024785 - Alexandre Dufort         |
==============================================

Do you want to enter new AWS credentials? (y/n)
```

For the first run, you'll have to run this step. After that, it can be omitted.

```
Please enter your credentials.
You can find them by executing this command in the AWS CLI online:
cat ~/.aws/credentials

AWS Access Key ID: xxx
AWS Secret Access Key: xxx
AWS Session Token: xxx
AWS configured successfully!
```
This step is pretty straigth forward, just enter the AWS credentials that you can get from the AWS online shell.

```
Checking your AWS credentials...
AWS credentials validated.

Please choose one of the options below:
1. Configure AWS.
2. Run benchmarks.
3. Run Social Network Problem.
4. Do everything.

What do you want to do?
```

At this point, you can either run the whole assignement (option 4), are run every part independently. A normal output should look like this:

```
==============================================
|                AWS SETUP                   |
==============================================

Installing requirements...
Starting AWS setup...
INFO - Found credentials in shared credentials file: ~/.aws/credentials
INFO - Terminating all instances...
INFO -   i-08b11563304941115: Terminated.
INFO - Deleting security group...
INFO - Creating security group "tp2"...
INFO - Creating an "m4.large" instance in zone "us-east-1a"...
INFO - Waiting for the instance to be running...
INFO -   i-03e5403f2bbac7c76: Running.
INFO - Waiting for the instance to respond to pings...
INFO -   i-03e5403f2bbac7c76: Up.
INFO - Instance public DNS: ec2-3-87-250-207.compute-1.amazonaws.com

```

## Output

The output files generated by the Benchmark script are:
- `hadoop_vs_linux.json` - The Hadoop vs Linux results in JSON format.
- `hadoop_vs_spark.json` - The Hadoop vs Spark results in JSON format.
The output files generated by the Social Network Problem script are:
- `output_all.json` - The recommendations for all users inside the dataset.
- `output_report.json` - The recommendations for the users asked for the assignement.
- `output_raw.txt` - The recommendations for all users inside the dataset, in the untouched format (raw output from the Hadoop MapReduce).
